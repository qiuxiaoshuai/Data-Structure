# 学生选课系统 Bash 脚本说明文档

## 一、项目概述

本项目为一个基于 Bash Shell 脚本实现的简易学生选课系统，支持学生和教师两类用户角色，具备用户登录、课程管理、学生选课、数据导出与日志记录等功能。

## 二、系统结构

- **学生用户**：登录后可选课、查看已选信息、取消并替换课程。
- **教师用户**：登录后可添加/删除/修改课程、查看学生名单、导出选课数据、查看课程统计。
- **数据持久化**：通过文本文件实现课程、学生、日志等数据的保存与管理。
- **UI交互**：使用 `dialog` 工具实现图形化菜单界面。

## 三、核心文件说明

- `/opt/student/courses.txt`：课程数据文件，格式：`课程ID|课程名|已选人数|最大人数`
- `/opt/student/students.txt`：学生信息文件，格式：`学号|姓名|用户名`
- `/opt/student/selected_courses_<用户名>.txt`：每位学生选课数据文件，记录所选课程ID。
- `/opt/student/system.log`：日志文件，记录所有用户操作日志。
- `脚本本体`：为一个 bash 脚本程序，自动初始化上述文件结构，并通过 `dialog` 提供交互界面。

## 四、主要功能模块说明

### 1. 登录系统

- 使用用户名+密码登录。
- 角色分别为学生（stu1/stu2/stu3）与教师（tea1/tea2），默认密码为 `gk12345678`。

### 2. 学生端功能

- 查看已选课程列表。
- 支持替换已选课程（最多三门）。
- 选课过程自动检查课程人数上限，并写入对应课程文件与更新课程信息。

### 3. 教师端功能

- **添加课程**：教师可新增课程。
- **删除课程**：教师可删除指定课程。
- **查看课程**：显示所有课程及选课人数。
- **修改课程信息**：可修改课程名称和最大选课人数。
- **查看选课名单**：列出每门课程的学生名单。
- **导出选课数据（CSV）**：将学生名单导出为 CSV 文件。
- **课程统计**：显示所有课程及已满课程数量。

### 4. 日志记录

- 每一次用户操作都会写入 `system.log`，记录格式为：
  ```
  YYYY-MM-DD HH:MM:SS [用户名] 操作说明
  ```

## 五、特色与亮点

- 支持多用户分权管理。
- 使用 `dialog` 提供友好的命令行图形化界面。
- 所有数据可追溯、可持久化存储。
- 支持课程数据导出，便于后续统计与分析。

## 六、后续改进建议

- 增加用户注册与密码修改功能。
- 使用 SQLite 或 JSON 文件替代纯文本管理，提高数据一致性与扩展性。
- 引入 Web UI 实现图形界面，进一步提升用户体验。
- 实现课程冲突检测与时间安排功能。

---

> 本系统脚本代码由学生自主编写完成，适合教学演示与小型项目使用。